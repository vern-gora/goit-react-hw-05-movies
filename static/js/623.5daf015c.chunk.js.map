{"version":3,"file":"static/js/623.5daf015c.chunk.js","mappings":"8PAIMA,EAAiB,mCAAG,WAAMC,GAAN,8FAClBC,EADkB,6CAC0BD,EAD1B,oBAFV,mCAEU,qCAGCE,EAAAA,EAAAA,IAAUD,GAHX,cAGhBE,EAHgB,OAIhBC,EAAOD,EAASC,KAEhBC,EAAcD,EAAKE,YACnBC,EAAQH,EAAKG,MACbC,EAAaC,KAAKC,MAA0B,GAApBN,EAAKO,cAC7BC,EAAWR,EAAKQ,SAChBC,EAAST,EAAKS,OAAOC,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,MACnDC,EAAKd,EAAKc,GAXM,kBAaf,CACLb,YAAAA,EACAE,MAAAA,EACAC,WAAAA,EACAI,SAAAA,EACAC,OAAAA,EACAK,GAAAA,IAnBoB,kCAsBtBC,QAAQC,IAAR,MAtBsB,0DAAH,sDCHvB,EAA4B,gCAA5B,EAAyE,iCAAzE,EAAoH,8BAApH,EAA4J,8BAA5J,EAAsM,gC,SC8DtM,EAxDqB,WAAO,IAAD,IACzB,GAAkCC,EAAAA,EAAAA,YAAlC,eAAOC,EAAP,KAAkBC,EAAlB,KACMC,GAAWC,EAAAA,EAAAA,MACTzB,GAAY0B,EAAAA,EAAAA,MAAZ1B,QAEF2B,GAASC,EAAAA,EAAAA,QAAM,oBAACJ,EAASK,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,YAE9CC,EAAAA,EAAAA,YAAU,WAAM,wCACd,6GAE4BhC,EAAkBC,GAF9C,OAEUgC,EAFV,OAGIT,EAAaS,GAHjB,gDAKIb,QAAQC,IAAR,MALJ,0DADc,uBAAC,WAAD,wBASda,EACD,GAAE,CAACjC,IAEJ,IAAMkC,EAAU,qDAA0CZ,QAA1C,IAA0CA,OAA1C,EAA0CA,EAAWjB,aAErE,OACE,iCACE,SAAC,KAAD,CAAM8B,GAAIR,EAAOS,QAAjB,sBAEA,4BACE,gBACEC,IAAKH,EACLI,IAAG,OAAEhB,QAAF,IAAEA,OAAF,EAAEA,EAAWf,MAChBgC,UAAWC,KAEb,gBAAID,UAAWC,EAAf,qBAAiClB,QAAjC,IAAiCA,OAAjC,EAAiCA,EAAWf,UAC5C,eAAGgC,UAAWC,EAAd,gCAA0ClB,QAA1C,IAA0CA,OAA1C,EAA0CA,EAAWd,WAArD,QACA,eAAI+B,UAAWC,EAAf,uBACA,cAAGD,UAAWC,EAAd,gBAA8BlB,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAWV,YACzC,eAAI2B,UAAWC,EAAf,qBACA,cAAGD,UAAWC,EAAd,gBAA8BlB,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAWT,aAE3C,4BACE,eAAI0B,UAAWC,EAAf,sCACA,2BACE,yBACE,SAAC,KAAD,CAAML,GAAG,OAAT,sBAEF,yBACE,SAAC,KAAD,CAAMA,GAAG,UAAT,+BAIN,SAAC,EAAAM,SAAD,WACE,SAAC,KAAD,QAIP,C","sources":["components/API/fetch-movie-details.js","webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '4c3007a9629b6abce42eca24ebb164b2';\n\nconst fetchMovieDetails = async movieId => {\n  const URL = `https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}&language=en-US`;\n  try {\n    const response = await axios.get(URL);\n    const data = response.data;\n\n    const smallPoster = data.poster_path;\n    const title = data.title;\n    const user_score = Math.round(data.vote_average * 10);\n    const overview = data.overview;\n    const genres = data.genres.map(genre => genre.name).join(', ');\n    const id = data.id;\n\n    return {\n      smallPoster,\n      title,\n      user_score,\n      overview,\n      genres,\n      id,\n    };\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport { fetchMovieDetails };\n","// extracted by mini-css-extract-plugin\nexport default {\"PosterImg\":\"MovieDetails_PosterImg__NI8Xr\",\"MovieTitle\":\"MovieDetails_MovieTitle__Aj4a0\",\"MovieH2\":\"MovieDetails_MovieH2__alkX6\",\"MovieH3\":\"MovieDetails_MovieH3__ouM7V\",\"MovieText\":\"MovieDetails_MovieText__8Z2Ex\"};","import { useEffect, useState, useRef, Suspense } from 'react';\nimport { useLocation, Link, useParams, Outlet } from 'react-router-dom';\n\nimport { fetchMovieDetails } from 'components/API/fetch-movie-details';\n\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const [movieInfo, setMovieInfo] = useState();\n  const location = useLocation();\n  const { movieId } = useParams();\n\n  const goBack = useRef(location.state?.from ?? '/movies');\n\n  useEffect(() => {\n    async function getMovieInfo() {\n      try {\n        const movieData = await fetchMovieDetails(movieId);\n        setMovieInfo(movieData);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    getMovieInfo();\n  }, [movieId]);\n\n  const posterPath = `https://image.tmdb.org/t/p/original/${movieInfo?.smallPoster}`;\n\n  return (\n    <>\n      <Link to={goBack.current}>go back</Link>\n\n      <div>\n        <img\n          src={posterPath}\n          alt={movieInfo?.title}\n          className={css.PosterImg}\n        ></img>\n        <h1 className={css.MovieTitle}> {movieInfo?.title}</h1>\n        <p className={css.MovieText}>User Score: {movieInfo?.user_score}%</p>\n        <h2 className={css.MovieH2}>Overview</h2>\n        <p className={css.MovieText}>{movieInfo?.overview}</p>\n        <h3 className={css.MovieH3}>Genres</h3>\n        <p className={css.MovieText}>{movieInfo?.genres}</p>\n      </div>\n      <div>\n        <h3 className={css.MovieH3}>Additional information:</h3>\n        <ul>\n          <li>\n            <Link to=\"cast\">Cast </Link>\n          </li>\n          <li>\n            <Link to=\"reviews\">Reviews </Link>\n          </li>\n        </ul>\n      </div>\n      <Suspense>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["fetchMovieDetails","movieId","URL","axios","response","data","smallPoster","poster_path","title","user_score","Math","round","vote_average","overview","genres","map","genre","name","join","id","console","log","useState","movieInfo","setMovieInfo","location","useLocation","useParams","goBack","useRef","state","from","useEffect","movieData","getMovieInfo","posterPath","to","current","src","alt","className","css","Suspense"],"sourceRoot":""}